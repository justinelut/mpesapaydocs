## Example

Here is a complete example implementation:

```javascript
const Consumer_Key = 'YOUR_CONSUMER_KEY';
const Consumer_Secret = 'YOUR_CONSUMER_SECRET';
const Business_Short_Code = 'YOUR_BUSINESS_SHORT_CODE';
const Passkey = 'YOUR_PASS_KEY';
const Transaction_Description = 'YOUR_TRANSACTION_DESCRIPTION';
const Account_Reference = 'YOUR_ACCOUNT_REFERENCE';
const PartyA = "YOUR_MPESA_PARTYA"
const B2C_Security_Credential = "YOUR MPESA B2C SECURITY CREDENTIAL"
const Initiator_Name = "YOUR MPESA INITIATORS NAME"
const Environment = 'THE ENVIRONMENT i.e sandbox or live'
const Transaction_Type = "YOUR SHORTCODE TYPE i.e paybill or till"



const mpesapay = new MpesaPay(
  Consumer_Key,
  Consumer_Secret,
  Business_Short_Code,
  Passkey,
  Account_Reference,
  Transaction_Description,
  PartyA,
  B2C_Security_Credential,
  Initiator_Name,
  Environment
  Transaction_Type
);
```

Replace the placeholders with your actual M-Pesa API credentials.

3. Call the `accountBalance` method to retrieve the account balance:

```javascript
async function getAccountBalance(callbackUrl) {
  try {
    const response = await mpesapay.accountBalance(callbackUrl);
    console.log(response);
    // Handle the response data
  } catch (error) {
    console.error(error);
    // Handle errors
  }
}

// Call the function to retrieve the account balance
const callbackUrl = 'https://example.com/callback'; // The URL to receive the account balance information
getAccountBalance(callbackUrl);
```

Replace the placeholders with your actual Mpesa credentials and customize the handling of the response data and errors according to your application's requirements.


## TypeScript Support

The Mpesa Pay module includes TypeScript type definitions, providing enhanced development experience and type checking capabilities when using the library in a TypeScript project.


That's it! You can now integrate Mpesa payments into your Node.js application using the Mpesa Pay library.

> Please note that ```accountBalance``` only initiates payments, and the results will be sent to the provided callback URL. Make sure to implement the necessary server-side logic to handle the account balance confirmation notifications and update your database accordingly.
