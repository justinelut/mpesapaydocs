## Example

Here is a complete example implementation:

```javascript
const Consumer_Key = 'YOUR_CONSUMER_KEY';
const Consumer_Secret = 'YOUR_CONSUMER_SECRET';
const Business_Short_Code = 'YOUR_BUSINESS_SHORT_CODE';
const Passkey = 'YOUR_PASS_KEY';
const Transaction_Description = 'YOUR_TRANSACTION_DESCRIPTION';
const Account_Reference = 'YOUR_ACCOUNT_REFERENCE';
const PartyA = 'YOUR_MPESA_PARTYA';
const B2C_Security_Credential = 'YOUR_MPESA_B2C_SECURITY_CREDENTIAL';
const Initiator_Name = 'YOUR_MPESA_INITIATORS_NAME';
const Environment = 'sandbox';

const mpesapay = new MpesaPay(
  Consumer_Key,
  Consumer_Secret,
  Business_Short_Code,
  Passkey,
  Account_Reference,
  Transaction_Description,
  PartyA,
  B2C_Security_Credential,
  Initiator_Name,
  Environment
);
```

Replace the placeholders with your actual M-Pesa API credentials.

3. Call the `business2Customer` method to initiate the payment:

```javascript
async function initiateBusinessToCustomerPayment(amount, phoneNumber, transactionDescription, callbackUrl) {
  try {
    const results = await mpesapay.business2Customer(amount, phoneNumber, transactionDescription, callbackUrl);
    console.log(results);
    // Handle the response data
  } catch (error) {
    console.error(error);
    // Handle errors
  }
}

// Call the function to initiate the business to customer payment
const amount = 10; // The payment amount in Kenyan shillings
const phoneNumber = '254708374149'; // The customer's phone number
const transactionDescription = 'Payment Done'; // A description of the payment
const callbackUrl = 'https://example.com/callback'; // The URL to receive payment status updates
initiateBusinessToCustomerPayment(amount, phoneNumber, transactionDescription, callbackUrl);
```

Replace the placeholders with your actual Mpesa credentials and customize the handling of the response data and errors according to your application's requirements.


## TypeScript Support

The Mpesa Pay module includes TypeScript type definitions, providing enhanced development experience and type checking capabilities when using the library in a TypeScript project.


That's it! You can now integrate Mpesa payments into your Node.js application using the Mpesa Pay library.

> Please note that ```business2Customer``` function only initiates the payments, and the results will be sent to the provided callback URL. Make sure to implement the necessary server-side logic to handle the business to customer payment confirmation notifications and update your database accordingly.

